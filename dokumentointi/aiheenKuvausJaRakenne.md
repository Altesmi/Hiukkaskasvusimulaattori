# Hiukkaskasvusimulaattorin kuvaus

**Aihe:** Yksikomponenttinen aerosolihiukkasten kasvua simuloiva ohjelma. Tässä harjoitustyössä toteutetaan simulaattori, joka kuvaa yhden kaasun tiivistymistä aerosolihiukkaseen. Tällä rajoituksella fysiikka saadaan pidettyä riittävän yksinkertaisena harjoitustyön laajuuteen nähden. 

Simuloitava systeemi on ilmakehä, jossa nyt siis on ainoastaan aerosolihiukkanen ja tätä ympäröivä kaasu. Kaasun tiivistyminen hiukkaseen aiheuttama hiukkasen kasvunopeus voidaan laskea yksinkertaisella, kinematiikkaan perustuvalla, kaavalla, eikä esimerkiksi hiukkasen kompositiota tarvitse välttämättä ottaa huomioon, tosin tämä parantaisi simulaation tarkkuutta ja on mahdollista sisällyttää myöhemmässä vaiheessa. Tiivistyvän kaasun kemialliset ominaisuudet on tunnettava hyvin, ja nämä ominaisuudet saadaankin kirjallisuudesta.

Simulaation käyttäjä pystyy vaikuttamaan ilmakehän ominaisuuksiin: kaasun pitoisuuteen, ominaisuuksiin ja ilmakehän vallitsevaan lämpötilaan. Käyttäjän ajamasta simulaatiosta tullaan lopuksi tuottamaan datatiedosto ja hiukkasen sädettä ajan funktiona kuvaava kuvaaja, joista voidaan tarkastella ajon aikana tehtyjen muutoksen vaikutusta hiukkasen säteen muutokseen.


# Hiukkaskasvusimulaattorin rakenne

**Rakenne:** Hiukkaskasvusimulaattorin luokat on jaettu viiteen eri pakettiin: simulaattorin logiikkaan, datan keräämiseen ja tallentamiseen tarvittaviin luokkiin, käyttäliittymään sekä käyttöliittymään liittyviin napinkuuntelijoihin ja viimeisimmäksi tekstikäyttöliittymään, jonka toimintaan ei tässä rakennekuvauksessa perehdytä enempää, sillä se ei ole enää olennainen osa simulaattorin toimintaa.

Simulaattorin logiikan muodostavat ilmakehä, hiukkanen, kaasu ja molekyyli -luokat joista viimeisin on viimeistä edeltävän luokan yliluokka. Simuloitavan systeemin koostuessa yhdestä aerosolihiukkasesta, kahdesta kaasusta, joista toinen on aina ilma, sekä näitä ympäröivästä ilmakehästä. Kaasun ja hiukkasen ominaisuuksista ratkaistaan ilmakehä-luokassa differentiaaliyhtälö, mikä kuvaa aerosolihiukkasen halkaisijan muutosnopeutta (ns. kasvunopeus). Ajan kulumisen seuranta kuuluu myös ilmakehä-luokalle.

Datankäsittelijöihin kuuluu kaksi luokkaa: datankerääjä ja tiedostonkäsittelijä -luokat. Datankerääjä-luokka vastaa datan keräämisestä. Olion luomisen jälkeen se liittyy yhteen ilmakehä-olioon ja siihen voidaan tallentaa milloin tahansa ilmakehän sen hetkiset tiedot (ilmakehän, kaasun ja aerosolihiukkasen ominaisuuksien arvot). Tiedostonkäsittelijä-luokka taas tallentaa tekstitiedostoon datankerääjä-olioon tallennetut tiedot. Tämä on erityisen tärkeää simulaattorin tässä vaiheessa perusteellisempaa data-analyysia varten.

Simulaation näkyvän osan muodostaa käyttöliittymä-paketti, sekä siihen kuuluvat nappulankuuntelijat. Kayttoliittyma-luokka luo Pallo, Kuvaaja, PallonPiirtopohja -luokkia hyväksi käyttäen simulaation graafisen ulkoasun. Tässä vaiheessa graafinen käyttöliittymä koostuu mahdollisuudesta määrittää ilmakehän toinen kaasu ja aerosolihiukkanen, ajaa simulaatio sekä tallentaa sen hetkinen data. Simulaation vasemmassa alalaidassa on myös teksti-ikkunat, jotka kuvaavat simuloitavan systeemin kunkin hetkistä tilaa ja näihin liittyy vielä mahdollisuus päivittää tekstit "Päivitä" -nappulaa painamalla. Ensimmäisen neljän nappulan toiminta on kuvattu sekvenssikaavioissa. Lyhyesti kerrottuna "Luo hiukkanen" -nappulaa painamalla voidaan vaihtaa ilmakehässä olevan aerosolihiukkasen ominaisuuksia ja vastaavasti "Luo kaasu" -nappulasta voidaan tehdä sama ilmakehässä olevalle kaasulle. "Aja simulaatio" -nappulaa painamalla voidaan käynnistää yksi simulaatio, kunhan ensin syötetään ilmakehän vallitsevat ominaisuudet sekä suurin simulaatiossa sallittava aerosolihiukkasen säde ja suurin sallittu aika, eli kuinka pitkälle simulaatiota ajetaan. Kun jompi kumpi lopetusehdoista saavutetaan, simulaatio pysäytetään ja Kuvaaja-luokan avulla piirretään kuvaaja, mikä kuvaa aerosolihiukkasen säteen kehitystä ajassa.


